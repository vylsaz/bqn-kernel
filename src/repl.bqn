{âŸ¨
    rawInput,rawOutput,rawDisplay,rawClear,rawPng, rawWav, 
    isv6, widgetInit, widgetGet, widgetUpdate, widgetDisplay
âŸ©:
    IsString â† {(0â‰¡â€¢Type ğ•©)âˆ§âŠ‘(â€¢internal.ElType ğ•©)âˆŠ[5,6,7]}
    IsNumericArray â† {(0â‰¡â€¢Type ğ•©)âˆ§(â€¢internal.ElType ğ•©)<5}

    Input â† {
        "Prompt must be a string"!IsString ğ•¨
        ğ•¨ RawInput +ğ•©
    }
    Output â† {
        "Name ğ•¨ must be a string"!IsString ğ•¨
        "Text ğ•© must be a string"!IsString ğ•©
        ğ•¨ RawOutput ğ•©
    }
    Display â† {
        "Mimetype ğ•¨ must be a string"!IsString ğ•¨
        "Data ğ•© must be a string"!IsString ğ•©
        ğ•¨ RawDisplay ğ•©
    }
    Clear â† {
        0: RawClear 0;
        1: RawClear 1;
        !"Argument must be boolean"
    }
    Png â† {ğ•Š x:
        "Image must be a numeric array"!IsNumericArray x
        r â† =x
        "Rank of image must be 2 or 3"!âˆ¨Â´r=2â€¿3
        âŸ¨h,w,câŸ© â† â‰¢i â† {râ‰¡2? â‰â‰x; x}
        "Color channels of image must be between 1 and 4"!âˆ¨Â´c=1â€¿2â€¿3â€¿4
        âŸ¨ok, sâŸ© â† RawPng i 
        s!ok, s
    }
    Wav â† {w ğ•Š x:
        "Sample rate must be a number"!1â‰¡â€¢Type w
        "Sound must be a numeric array"!IsNumericArray x
        r â† =x
        "Rank of sound must be 1 or 2"!âˆ¨Â´r=1â€¿2
        a â† â‰{râ‰¡1? â‰x; x}
        âŸ¨ok, sâŸ© â† w RawWav a
        s!ok, s
    }

    widgets â† {
        base â† {isv6? 
            âŸ¨"jupyter-js-widgets", "~2.1.0"âŸ©;
            âŸ¨"@jupyter-widgets/base", "2.0.0"âŸ©
        }
        controls â† {isv6? 
            âŸ¨"jupyter-js-widgets", "~2.1.0"âŸ©;
            âŸ¨"@jupyter-widgets/controls", "2.0.0"âŸ©
        }
        modelK â† âŸ¨"_model_module", "_model_module_version", "_model_name"âŸ©
        viewK â† âŸ¨"_view_module", "_view_module_version", "_view_name"âŸ©
        ModelBase â† {modelKâ‰baseâˆ¾<ğ•©âˆ¾"Model"}
        Model â† {modelKâ‰controlsâˆ¾<ğ•©âˆ¾"Model"}
        ViewBase â† {viewKâ‰baseâˆ¾<ğ•©âˆ¾"View"}
        View â† {viewKâ‰controlsâˆ¾<ğ•©âˆ¾"View"}
        WInit â† {{@: !"Cannot init widget"; ğ•©}WidgetInit ğ•©}
        MakeWidget â† {
            id â† WInit ğ•©
            {
                id â‡ id
                Get â‡ {{@: !"Unknown attribute"; ğ•©}id WidgetGet ğ•©}
                Update â‡ {{0: !"Failed to update"; @}id WidgetUpdate ğ•©}
                Display â‡ {ğ•Š: WidgetDisplay id}
            }
        }
        And â† âˆ¾â‰1
        Ref â† "IPY_MODEL_"âŠ¸âˆ¾
        MkLayout â† {ğ•Š: WInit (ModelBase"Layout")And ViewBase"Layout"}
        MkStyle â† {WInit (Model ğ•©âˆ¾"Style")And ViewBase"Style"}
        Layout â† {[âŸ¨"layout"âŸ©, âŸ¨Ref MkLayout ğ•©âŸ©]}
        Style â† {[âŸ¨"style"âŸ©, âŸ¨Ref MkStyle ğ•©âŸ©]}
        Init â† {(Model ğ•©)And(View ğ•©)And Layout @}

        null  â† <"null"
        true  â† <"true"
        false â† <"false"

        CheckBox â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Init"Checkbox"
            {isv6? @; a Andâ†© Style"Checkbox", @}
            a Andâ†© â‰>âŸ¨
                "description"â€¿""
                "disabled"â€¿false
                "value"â€¿false
            âŸ©
            MakeWidget a And ğ•©
        }

        FloatProgress â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Layout @
            a Andâ†© Model{isv6? "Progress"; "FloatProgress"}
            a Andâ†© View"Progress"
            a Andâ†© Style"Progress"
            a Andâ†© â‰>âŸ¨
                "bar_style"â€¿""
                "description"â€¿""
                "min"â€¿0.0
                "max"â€¿1.0
                "orientation"â€¿"horizontal"
                "value"â€¿0.0
            âŸ©
            MakeWidget a And ğ•©
        }

        FloatSlider â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Init"FloatSlider"
            a Andâ†© Style"Slider"
            a Andâ†© â‰>âŸ¨
                "value"â€¿0.0
                "min"â€¿0.0
                "max"â€¿1.0
                "step"â€¿0.1
                "description"â€¿""
                "disabled"â€¿false
                "continuous_update"â€¿true
                "orientation"â€¿"horizontal"
                "readout"â€¿true,
                "readout_format"â€¿".2f"
            âŸ©
            MakeWidget a And ğ•©
        }

        IntProgress â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Layout @
            a Andâ†© Model{isv6? "Progress"; "IntProgress"}
            a Andâ†© View"Progress"
            a Andâ†© Style"Progress"
            a Andâ†© â‰>âŸ¨
                "bar_style"â€¿""
                "description"â€¿""
                "min"â€¿0
                "max"â€¿100
                "orientation"â€¿"horizontal"
                "value"â€¿0
            âŸ©
            MakeWidget a And ğ•©
        }

        IntSlider â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Init"IntSlider"
            a Andâ†© Style"Slider"
            a Andâ†© â‰>âŸ¨
                "value"â€¿0
                "min"â€¿0
                "max"â€¿100
                "step"â€¿1
                "description"â€¿""
                "disabled"â€¿false
                "continuous_update"â€¿true
                "orientation"â€¿"horizontal"
                "readout"â€¿true,
                "readout_format"â€¿"d"
            âŸ©
            MakeWidget a And ğ•©
        }

        ToggleButton â‡ {ğ•Š@: ğ•ŠâŸ¨âŸ©;
            a â† Init"ToggleButton"
            a Andâ†© Style"ToggleButton"
            a Andâ†© â‰>âŸ¨
                "button_style"â€¿""
                "description"â€¿""
                "disabled"â€¿false
                "icon"â€¿""
                "tooltip"â€¿null
                "value"â€¿false
            âŸ©
            MakeWidget a And ğ•©
        }
    }

    â€¢ReBQN {
        repl â‡ "loose"

        system â‡ {ğ•©âˆ¾â€¢listSys(Â¬âˆ˜âˆŠ/âŠ£)âŠ‘Â¨ğ•©}âŸ¨
            "out"â€¿{"stdout" Output ğ•©}
            "show"â€¿{"stdout" Output â€¢Fmt ğ•©, ğ•©}
            "getline"â€¿{ğ•Š: "" Input 0}
            "jupyter"â€¿{
                Out â‡ {"stdout" Output ğ•©}
                Err â‡ {"stderr" Output ğ•©}
                GetInput    â‡ {ğ•© Input 0}
                GetPassword â‡ {ğ•© Input 1}
                HTML â‡ {"text/html"  Display ğ•©}
                Text â‡ {"text/plain" Display ğ•©}
                Display â‡ Display
                Clear â‡ Clear
                Image â‡ {
                    p â† Png ğ•©
                    h â† "<div><img style=""image-rendering:pixelated;"" src=""data:image/png;base64,"âˆ¾pâˆ¾""" /></div>"
                    HTML h, @
                }
                audioFreq â‡ 44100
                Audio â‡ {ğ•Š ğ•©: audioFreq ğ•Š ğ•©;
                    w â† ğ•¨ Wav ğ•©
                    h â† "<div><audio controls src=""data:audio/wav;base64,"âˆ¾wâˆ¾""" /></div>"
                    HTML h, @
                }
                widgets â‡ widgets
            }
            "platform"â€¿{
                os â‡ â€¢platform.os
                bqn â‡ â€¢platform.bqn
                cpu â‡ â€¢platform.cpu
                environment â‡ "jupyter"
            }
            "exit"â€¿{ğ•Š: 
                msg â† "â€¢Exit is disabled for jupyter notebook. "
                !msgâˆ¾"If in console, use )off to exit"
            }
        âŸ©
    }
}
